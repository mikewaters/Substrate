{
  "embedding": [
    -0.019287489354610443,
    -0.0005529921618290246,
    0.00011053154594264925,
    0.011395650915801525,
    0.03831484168767929,
    -0.08401443064212799,
    -0.05079372227191925,
    0.008336207829415798,
    -0.051215097308158875,
    -0.003079646499827504,
    -0.010275280103087425,
    -0.047021545469760895,
    -0.005649143364280462,
    -0.05959963798522949,
    -0.001944190007634461,
    0.06227912753820419,
    -0.04412757232785225,
    0.036666471511125565,
    -0.033587194979190826,
    -0.02718878909945488,
    0.06263528019189835,
    0.09508074820041656,
    0.026131276041269302,
    0.01601994037628174,
    0.036584533751010895,
    0.01855834200978279,
    -0.10658364742994308,
    0.009994220919907093,
    -0.05498116835951805,
    -0.04953303560614586,
    0.028484441339969635,
    0.06426934152841568,
    -0.10308735072612762,
    0.00473532872274518,
    0.06354541331529617,
    0.14587900042533875,
    0.02492036670446396,
    -0.05155577510595322,
    -0.04652699455618858,
    -0.01702144742012024,
    0.049816980957984924,
    0.004852897021919489,
    -0.07019450515508652,
    -0.026498788967728615,
    -0.0795244500041008,
    -0.05865475907921791,
    -0.044049911201000214,
    -0.1051216647028923,
    -0.02877933718264103,
    0.03393198177218437,
    -0.11771304160356522,
    -0.05473097786307335,
    -0.06924871355295181,
    0.05676540359854698,
    0.05157378688454628,
    0.049322787672281265,
    -0.021214423701167107,
    -0.01828790456056595,
    0.0019324223976582289,
    -0.04479876533150673,
    0.02500119060277939,
    0.028656896203756332,
    0.006958385929465294,
    -0.02877514623105526,
    -0.004551084712147713,
    -0.010376963764429092,
    -0.013884207233786583,
    0.007118717301636934,
    0.08045390993356705,
    -0.06338661164045334,
    -0.05824318155646324,
    0.04833564534783363,
    -0.046913329511880875,
    0.044194210320711136,
    -0.021035103127360344,
    0.00981884729117155,
    0.04444193094968796,
    0.04877986013889313,
    -0.013604962266981602,
    -0.15868093073368073,
    0.0018796870717778802,
    0.030600324273109436,
    0.04878496751189232,
    0.05492887645959854,
    -0.02769654244184494,
    0.03541555628180504,
    -0.041516464203596115,
    -0.005459288135170937,
    0.03868258371949196,
    -0.024817463010549545,
    -0.01333710364997387,
    -0.1409408450126648,
    0.024701690301299095,
    -0.018671108409762383,
    0.05347901210188866,
    0.048462990671396255,
    -0.008131234906613827,
    0.04137604311108589,
    0.0329507440328598,
    0.0810137465596199,
    0.0029827950056642294,
    0.02464115060865879,
    0.04370015859603882,
    -0.014888375997543335,
    -0.05022529512643814,
    0.00715399906039238,
    -0.04359476640820503,
    0.024090871214866638,
    -0.05322803929448128,
    -0.020956436172127724,
    0.04877016320824623,
    0.034904081374406815,
    -0.022618690505623817,
    -0.0629991739988327,
    0.08816292136907578,
    0.013692370615899563,
    -0.010302459821105003,
    -0.029765909537672997,
    -0.02199339121580124,
    0.08678121864795685,
    0.025047533214092255,
    0.016338929533958435,
    0.03648361936211586,
    0.015208004042506218,
    0.0003985766670666635,
    -0.02872554026544094,
    -0.023860281333327293,
    6.562012807789135e-33,
    0.05883171781897545,
    -0.06978005915880203,
    0.017421523109078407,
    0.05097954347729683,
    0.0766250416636467,
    -0.0040228585712611675,
    0.0359179712831974,
    0.00794617086648941,
    -0.07916229963302612,
    0.026415210217237473,
    -0.037356212735176086,
    0.06704287976026535,
    -0.11769252270460129,
    0.008069409057497978,
    -0.004697583150118589,
    -0.08624042570590973,
    0.009349820204079151,
    0.04023284092545509,
    -0.0022715916857123375,
    -0.014535226859152317,
    0.06278104335069656,
    0.030560407787561417,
    -0.11765071749687195,
    0.0013801164459437132,
    -0.018069779500365257,
    0.04613816365599632,
    -0.0201482642441988,
    -0.02874714508652687,
    -0.04194561019539833,
    -0.002908817259594798,
    -0.02552645280957222,
    -0.024576520547270775,
    0.036780551075935364,
    -0.0044605727307498455,
    -0.019533229991793633,
    -0.07466606795787811,
    -0.017538797110319138,
    -0.014946033246815205,
    -0.0819782242178917,
    -0.06775328516960144,
    0.03659253194928169,
    0.05378911644220352,
    -0.03001457452774048,
    -0.06465370953083038,
    -0.01009388267993927,
    -0.0633205994963646,
    -0.07588692009449005,
    0.04434685409069061,
    0.09276125580072403,
    0.0026146082673221827,
    0.014594183303415775,
    0.019420480355620384,
    0.05613068863749504,
    0.00360189750790596,
    -0.05776970088481903,
    -0.04059328883886337,
    0.011399614624679089,
    0.018123529851436615,
    0.071842260658741,
    0.05329647660255432,
    -0.03478125110268593,
    0.030474860221147537,
    0.005708412267267704,
    0.05130555108189583,
    0.1029273048043251,
    0.0435929000377655,
    0.03785291314125061,
    0.02974763885140419,
    0.05270187556743622,
    0.04417714849114418,
    -0.12801851332187653,
    0.026960475370287895,
    0.03141277655959129,
    0.03157538175582886,
    0.08330930769443512,
    -0.10570799559354782,
    -0.04580097272992134,
    -0.11021416634321213,
    -0.09578771889209747,
    -0.0008669981616549194,
    -0.05266162380576134,
    0.015891488641500473,
    -0.05241905897855759,
    -0.02830292098224163,
    -0.019783448427915573,
    0.014062908478081226,
    -0.001123521476984024,
    -0.09648601710796356,
    -0.004571097437292337,
    -0.0434538796544075,
    0.011109364219009876,
    -0.06024017184972763,
    -0.0648038238286972,
    -0.03496332839131355,
    -0.06353814899921417,
    -7.607130141425845e-33,
    0.016806723549962044,
    -0.018334247171878815,
    0.003922647796571255,
    0.027123108506202698,
    0.01230293232947588,
    -0.015203776769340038,
    0.01408831775188446,
    0.04972519725561142,
    -0.0019262764835730195,
    -0.029627559706568718,
    0.019756345078349113,
    -0.00517276069149375,
    -0.008878014050424099,
    -0.04773063212633133,
    0.023356864228844643,
    0.03447648510336876,
    -0.05559559911489487,
    -0.07497696578502655,
    0.011940529569983482,
    0.07947766780853271,
    -0.053821220993995667,
    0.1345014125108719,
    -0.05084003880620003,
    0.04965931549668312,
    -0.01839590258896351,
    0.020991185680031776,
    0.04726734384894371,
    0.05367569252848625,
    0.014085899107158184,
    -0.028270291164517403,
    0.04912407323718071,
    0.047560930252075195,
    -0.10397500544786453,
    -0.046881575137376785,
    -0.08488161116838455,
    -0.05771789327263832,
    -0.0381050780415535,
    -0.009675336070358753,
    -0.06542100012302399,
    0.02668088674545288,
    0.09347203373908997,
    0.05068795755505562,
    -0.09602195769548416,
    -0.009983579628169537,
    -0.0545220822095871,
    0.0540626235306263,
    -0.00952980387955904,
    0.007082401309162378,
    0.014798365533351898,
    -0.054377634078264236,
    0.06930401176214218,
    -0.06763872504234314,
    -0.010546817444264889,
    0.04605211317539215,
    0.014142529107630253,
    0.014063999056816101,
    0.053548067808151245,
    0.016214463859796524,
    -0.12182652205228806,
    -0.018447110429406166,
    0.005844149738550186,
    0.04376310482621193,
    -0.009418807923793793,
    -0.045550595968961716,
    0.061782918870449066,
    -0.007750252727419138,
    -0.07494096457958221,
    -0.007261219900101423,
    -0.045343585312366486,
    -0.0270511656999588,
    -0.05837900936603546,
    0.01655750349164009,
    0.08615919947624207,
    -0.021578140556812286,
    0.09995872527360916,
    0.03599882870912552,
    -0.014217270538210869,
    -0.07203199714422226,
    0.015142078511416912,
    0.04408106580376625,
    -0.09152358025312424,
    0.0448310486972332,
    0.02367185615003109,
    0.0015920905862003565,
    0.04551158472895622,
    -0.020478742197155952,
    -0.02119714953005314,
    0.1803731620311737,
    -0.024812817573547363,
    -0.003310592146590352,
    0.043897539377212524,
    -0.007161747198551893,
    -0.006578913889825344,
    0.0313783623278141,
    -0.02138044312596321,
    -5.885344123157665e-8,
    -0.04813103377819061,
    0.03157537803053856,
    -0.09534994512796402,
    0.08071655035018921,
    -0.024756932631134987,
    0.03244258090853691,
    0.11920920759439468,
    0.09140297025442123,
    -0.047698263078927994,
    -0.013060061261057854,
    0.021167969331145287,
    0.025560585781931877,
    -0.08359652012586594,
    -0.022895285859704018,
    -0.017125394195318222,
    -0.021035373210906982,
    0.059744130820035934,
    0.09330110251903534,
    -0.0620754174888134,
    -0.09248672425746918,
    0.01783876121044159,
    0.0088381702080369,
    0.00014908512821421027,
    -0.016713900491595268,
    0.04837539792060852,
    0.0292578786611557,
    0.03239567205309868,
    0.0659325048327446,
    -0.007502125110477209,
    0.022905778139829636,
    0.05956565588712692,
    -0.030958998948335648,
    -0.015358849428594112,
    0.0069566634483635426,
    -0.017015347257256508,
    0.05902222543954849,
    0.04523222893476486,
    0.04341275617480278,
    -0.012771855108439922,
    0.033602528274059296,
    0.01947113499045372,
    0.03774663433432579,
    -0.06338182836771011,
    -0.004614131525158882,
    -0.012845112010836601,
    -0.04941723868250847,
    -0.10766274482011795,
    0.052440982311964035,
    0.07046902179718018,
    0.010768149979412556,
    -0.04787934571504593,
    -0.02542603574693203,
    -0.004208608530461788,
    -0.03046782687306404,
    0.02002202346920967,
    -0.002432137494906783,
    0.03394395112991333,
    0.03265615552663803,
    -0.04301527515053749,
    -0.012329984456300735,
    0.13545583188533783,
    -0.054586466401815414,
    0.103569395840168,
    -0.010752114467322826
  ],
  "text": "### Current Data Flow\n1. `ObsidianMarkdownReader.load_data()` - parses YAML frontmatter, puts raw dict in `node.metadata[\"frontmatter\"]`\n2. `ObsidianVaultReader.load_data()` - adds file metadata (note_name, relative_path, folder_name, etc.), extracts wikilinks/backlinks\n3. Pipeline: `TextNormalizerTransform -> ObsidianEnrichmentTransform (sometimes) -> PersistenceTransform -> MarkdownNodeParser -> ChunkPersistenceTransform -> SizeAwareChunkSplitter -> embed_model`\n\n### Key Observations\n- The `ingest()` method pipeline does NOT include `ObsidianEnrichmentTransform` currently! It goes directly TextNormalizerTransform -> PersistenceTransform\n- The `ingest_test()` method pipeline (experimental) also doesn't include it - uses Bronze transforms instead\n- `ObsidianEnrichmentTransform` exists but is NOT wired into any active pipeline\n- The existing `OntologyMapper` in `catalog.transform.ontology` is skeletal - just has NOTE_TYPE_MAP and TOPIC_MAP hardcoded\n- The `ObsidianMetadataMapper` in `catalog.ontology.mapper` is essentially a no-op (returns metadata as-is)\n- `PersistenceTransform._get_metadata_json()` filters out `_`-prefixed keys and `file_path`\n- `PersistenceTransform._process_node()` reads `title` and `description` from node.metadata\n\n### Design Constraints\n- Pre-alpha: no migrations, no backward compat\n- Python dataclasses for internal, Pydantic for I/O\n- `agentlayer.logging` for logging\n- No stubs/TODOs\n- LlamaIndex Document supports `excluded_llm_metadata_keys`, `excluded_embed_metadata_keys`, custom `metadata_separator`, `metadata_template`, `text_template`\n\n### Files to Replace/Modify\n- `catalog/ontology/__init__.py` - currently a stub\n- `catalog/ontology/mapper.py` - currently a no-op\n- `catalog/transform/ontology.py` - skeletal hardcoded maps\n- `catalog/transform/obsidian.py` - ObsidianEnrichmentTransform does title/desc derivation\n- `catalog/ingest/schemas.py` - IngestObsidianConfig needs vault_schema\n- `catalog/ingest/obsidian.py` - ObsidianMarkdownReader/ObsidianVaultReader need to handle VaultSchema\n- `catalog/ingest/pipelines.py` - pipeline wiring\n- `catalog/ingest/sources.py` - create_source/create_reader need config propagation",
  "sections": [
    "Project Notes",
    "Obsidian Frontmatter Parser (Issue #12) - Codebase Analysis"
  ],
  "timestamp": 1769989954479,
  "path": "/Users/mike/Develop/lifeos/substrate/.private-journal/2026-02-01/18-52-34-479785.md"
}